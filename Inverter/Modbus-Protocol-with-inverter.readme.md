## PLC 와 인버터 간 모드버스 통신
<br/>

## 모드버스통신(Modbus Protocol) 이란?

<br/>


**MODBUS**통신은 **Searial통신**과 **Ethernet통신**을 이용한 통신프로토콜의 종류중에서 가장 범용적으로 많이 사용되는 **OPEN Protocol** 입니다.



거의 모든 대부분의 **PLC**나 **DCS, HMI**등에서 지원하고 있으며, 중소업체의 경우 자체적인 통신프로토콜을 제작하려면 시간과 돈이 많이 드는 점,

타 메이커와 호환이 힘든점등의 단점을 보완하기 위해 **MODBUS통신**만 사용하는 경우도 많이 있습니다.



**MODBUS**는 크게 **Ehternet**을 이용한 **MODBUS-TCP**와 **Searial**을 이용한 **MODBUS-RTU, MODBUS-ASCII**를 예로 들 수 있습니다.


**아스키 코드**를 이용하는 **MODBUS-ASCII**보다는 **BINARY**를 직접 이용하는 **MODBUS-RTU**를 많이 사용하는 편입니다.


출처 : https://mech19.tistory.com/m/42

<br/>
<br/>

### 인버터 설정

<br/>

#####  **인버터** 에서 오른 화살표를 눌러 **CM** 으로 감.

<br/>

**0번**. 설정 유지.

**1번**. 인버터의 **국번설정**으로, 상대 PLC와 맞춰야 함.

  (설정 후 **cm1**이 다시 표시 되어야 완료.)
  
**2번**. 0번으로 설정.

**3번**. 3번 설정.

**4번**. 0번 설정.

**5번**. 5번 설정


**위의 설정들을 완료 후 ESC 눌러서 숫자 창이 떠야 함.**

<br/>

### PLC와 연결 확인(485, 이더넷 모듈 추가)

<br/>

**1.** 온라인 접속.

**2.** 기본네트워크 오른쪽 마우스 > 항목추가 > 통신모듈 > **CH2A**와 **EFMT**을 설정하는데 슬롯 번호 확인(5,7).

**3.** 온라인 > 진단 > I/o정보 로 가서 CH2A, EFMT 에서 슬롯 번호 확인 가능.

**4.** A 더블클릭 후 채널2 **RS422 -> 485 로 변경**.

**5.** 통신속도도 **9600bps** 확인

**6.** 고급설정은 바꿀필요 없고 8 1 NONE 인지만 확인.

**7.** 기본은 국번은 0번(**inverter 국번과 겹치면 바꿔야함**)

**8.** 채널2는 P2P 사용

<br/>

**CH2A P2P 추가**

![20210222_092026](https://user-images.githubusercontent.com/57824945/108643835-a6d64c80-74ef-11eb-94e9-1689f51c202e.png)

CH2A> 오른마우스> 항목추가>P2P추가>기본(01)

<br/>

**P2P 블록설정**

![20210222_092047](https://user-images.githubusercontent.com/57824945/108643836-a8077980-74ef-11eb-9630-72da4bd3036f.png)
